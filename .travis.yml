language: csharp
solution: engenious.UI.sln
mono: latest
dotnet: 2.2.103
install:
  - nuget restore engenious.UI.sln
before_script:
  - sudo add-apt-repository ppa:mc3man/trusty-media -y
  - sudo aptitude update
  - sudo aptitude -y -q install ffmpeg
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start || true"
  - sleep 3 # give xvfb some time to start
deploy:
  skip_cleanup: true
  provider: script
  script: bash deploy.sh
  on:
    all_branches: true